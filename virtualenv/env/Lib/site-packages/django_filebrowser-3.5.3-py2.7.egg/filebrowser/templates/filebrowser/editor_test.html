{% load admin_static i18n l10n fb_tags %}
{% load url from future %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<!--<title>three.js editor</title>-->
		<title>{% trans title %}</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	</head>
	<body>
		<p>This is the test page</p>
		<p class="grp-text">			
            <a href="{{ fileobject.url }}">{{ fileobject.url }}</a>                        
		</p>
		<input type="file" id="fileInput">
		<iframe type = "frmFile" id="frmFile" src="/media/uploads/ASUinf.stl" onload="LoadFile();" style="display: none;"></iframe>
		<script type="text/javascript">
			function LoadFile() {
				var oFrame = document.getElementById("frmFile");
				var file = oFrame.contentWindow.document.body.childNodes[0].innerHTML;
				while (strRawContents.indexOf("\r") >= 0)
				strRawContents = strRawContents.replace("\r", "");
				var arrLines = strRawContents.split("\n");
				alert("File " + oFrame.src + " has " + arrLines.length + " lines");
				for (var i = 0; i < arrLines.length; i++) {
					var curLine = arrLines[i];
					alert("Line #" + (i + 1) + " is: '" + curLine + "'");
				}
			}
			<!--var fileInput = document.createElement('fileInput');-->
			<!-- fileInput.type = "file"; -->
			/*var fileInput = document.getElementById("fileInput");

			fileInput.addEventListener('change', function(e) {
				var file = fileInput.files[0];
				console.log("files: " + fileInput.files);
				console.log("file: " + file);
				var file2 = File("/media/uploads/ASUinf.stl");
				console.log("file2name: " + file2.name);
			
				var reader = new FileReader();

				reader.onloadend = function(e) {
					console.log("read end: ")
					console.log(reader.result);
					console.log("filename: " + file.name);
					console.log("filesrc: " + file.src);
				};

				reader.readAsDataURL(file);	
				
			});
			*/
			/*
			var input = document.createElement( 'input' );
			input.type = 'file';
			var url    = "/media/uploads/ASUinf.stl";
			input.files[0] = url;
			
			input.addEventListener( 'change', function ( event ) {
				console.log("add file");
				console.log(input.files[0]);		
				editor.loader.loadFile( input.files[ 0 ] );
		
			} );
			
			input.click();
			var reader  = new FileReader();
			reader.readAsDataURL(url);
			
			
			reader.onloadend = function () {
				console.log(reader.result);
			}
			console.log(url);
			console.log(reader.error);
			console.log(reader.result);
			*/
			//editor.loader.loadFile( input.files[0] );
			
		</script>		
	</body>
</html>


				